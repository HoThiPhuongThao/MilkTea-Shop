<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Damin Tea Website</title>
    <link rel="stylesheet" href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">
</head>
<style> 
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700&display=swap');
* {
    font-family: 'Poppins', sans-serif;
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    scroll-padding-top: 4rem;
    scroll-behavior: smooth;
    list-style: none;
    text-decoration: none;
}
/* variable */
:root{
    --main-color:#ffe5f0;  
    --second-color:#ffbcd6;
    --text-coler:#fff;
    --bg-color:#fff4eb;
}
img{
    width: 100%;
}
body {
    color: var(--text-coler);
    margin-top: 80px;
}
h1{
    padding: 16px;
}
header {
    width: 100%;
    z-index: 10000;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 18px 50px;
    transition: 0.5s linear;
    background: var(--text-coler);
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}
.logo {
    font-size: 50px; /* Điều chỉnh kích thước icon */
    color: #ff2190; /* Đặt màu của icon thành trắng */
    text-decoration: none; /* Loại bỏ gạch chân */
}

.logo i {
    display: block; /* Đảm bảo biểu tượng chiếm toàn bộ không gian của thẻ a */
}

/* Navbar Styling */
.navbar {
    list-style: none;
    display: flex;
    gap: 20px;
    margin-left: 20%;
    font-size: 150%;
}

.navbar li {
    position: relative;
}

.navbar a {
    text-decoration: none;
    padding: 10px 20px;
    display: block;
    color: #ff2190;
    text-align: center; /* Căn chữ vào giữa */
}

/* Dropdown Menu */
.dropdown-content {
    display: none;
    position: absolute;
    background-color:var(--main-color);
    box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.2);
    min-width: 160px;
    z-index: 1;
    list-style: none;
    padding: 0;
    margin: 0;
    border-radius: 10px; /* Bo tròn góc menu */
    overflow: hidden; /* Đảm bảo nội dung cũng bo tròn theo */
    font-size: 70%;
}

.dropdown-content li {
    border-bottom: 1px solid #eee;
}

.dropdown-content li:last-child {
    border-bottom: none; /* Bỏ đường viền cuối cùng */
}

.dropdown-content li a {
    padding: 12px 16px;
    color: #ff2190;
    text-align: center; /* Căn chữ vào giữa */
}

.dropdown-content li a:hover {
    background-color:var(--bg-color);
}

/* Hiển thị dropdown khi hover */
.dropdown:hover .dropdown-content {
    display: block;
}



.header-icon {
    font-size: 25px;
    cursor: pointer;
    z-index: 10000;
    display: flex;
    column-gap: 0.8rem;
}
.header-icon .bx {
    color: #ff2190;
}


.search-input {
    flex-grow: 1;
    padding: 5px;
    border: none;
    border-bottom: 2px solid #ff2190;
    outline: none;
    font-size: 16px;
    background-color: transparent;
  }
  
  .search-input {
    flex-grow: 1;
    padding: 5px;
    border: none;
    border-bottom: 2px solid #ff2190;
    outline: none;
    font-size: 16px;
    background-color: transparent;
  }

/* Search and Icons container */


/* Search bar styles */
.search-bar {
    position: relative;
     display: flex;
    align-items: center;
    gap: 20px;

}

.search-input {
    padding: 10px;
    border: 1px solid #ff2190;
    border-radius: 20px;
    outline: none;
    width: 200px;
    margin-left: 15%;
    color: #ff2190;
    
}

.header-icon {
    display: flex;
    align-items: center; /* Căn giữa theo chiều dọc */
}

.header-icon span {
    margin-left: 10px; /* Khoảng cách giữa icon và văn bản */
    font-size: 16px; /* Kích thước chữ */
    color: #ff2190; /* Màu chữ */
    font-weight: 600; /* Đậm chữ */
    /* Bạn có thể thêm các thuộc tính khác để tùy chỉnh hơn */
}


/* .............................................. */
/* Kiểu cho container của dropdown */
/* Ẩn menu logout mặc định */
#userDropdown {
    display: none;
    position: absolute;
    top: 100%; /* Đặt phía dưới icon user */
    right: 0;
    background-color: #f8f9fa;
    padding: 10px;
    border-radius: 8px;
    box-shadow: 0px 8px 16px #ff2190(0, 0, 0, 0.2);
    z-index: 1000;
}

/* Hiển thị menu khi có class "show" */
#userDropdown.show {
    display: block;
}

</style>
<body>
<!-- Navbar-->
<header>
    <?php
    // Định nghĩa biến $search
    $search = isset($_GET['search']) ? htmlspecialchars($_GET['search']) : '';
    ?>
    <a href="index.php" class="logo">
        <i class='bx bxs-leaf'></i>
    </a>
    <ul class="navbar">
        <li><a href="index.php">Trang chủ</a></li>
        <li class="dropdown">
            <a href="product.php">Sản phẩm</a>
            <ul class="dropdown-content">
                <li><a href="milk_tea.php">Trà sữa</a></li>
                <li><a href="tea.php">Trà</a></li>
                <li><a href="cake.php">Bánh ngọt</a></li>
            </ul>
        </li>
        <li><a href="about_us.php">Về chúng tôi</a></li>
    </ul>
    <div class="search-bar">
        <input type="text" placeholder="Tìm kiếm món..." class="search-input" id="searchInput" value="<?php echo htmlspecialchars($search); ?>" />
    </div>
    <div class="header-icon">
        <i class='bx bx-search' id="search-icon" onclick="searchProduct()"></i>
        <a href="cart.php" title="Giỏ hàng">
            <i class='bx bx-cart-alt'></i>
        </a>
        <?php
            if (session_status() === PHP_SESSION_NONE) {
                session_start();
            }
            if (isset($_SESSION['user'])) {
                // Chuyển đổi tên đăng nhập thành liên kết
                echo '<a href="profile.php" title="Thông tin tài khoản">' . htmlspecialchars($_SESSION['user']['fullname']) . '</a>';
                echo '<a href="logout.php" title="Đăng xuất" id="logoutIcon"><i class="bx bx-log-out"></i></a>';
            } else {
                echo '<a href="login.php" title="Tài khoản" id="userIcon"><i class="bx bx-user-circle"></i></a>';
            }
            
        ?>
    </div>
</header>

<script src="js/header.js"></script>
<script>
    function searchProduct() {
        const searchInput = document.getElementById('searchInput').value;
        if (searchInput) {
            window.location.href = 'product.php?search=' + encodeURIComponent(searchInput);
        }
    }
</script>
</body>
</html>
